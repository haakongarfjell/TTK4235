\hypertarget{fsm_8h}{}\doxysection{source/driver/fsm.h File Reference}
\label{fsm_8h}\index{source/driver/fsm.h@{source/driver/fsm.h}}


The state machine is used for controlling the logic that operates the elevator. This library consists of all handler functions handles the logical control at each state.  


{\ttfamily \#include \char`\"{}elevio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}con\+\_\+load.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}queue.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}time.\+h\char`\"{}}\newline
Include dependency graph for fsm.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} \{ \newline
{\bfseries I\+N\+IT} = 0, 
{\bfseries M\+O\+VE} = 1, 
{\bfseries A\+T\+\_\+\+F\+L\+O\+OR} = 2, 
{\bfseries S\+T\+OP} = 3, 
\newline
{\bfseries D\+O\+OR} = 4
 \}
\begin{DoxyCompactList}\small\item\em A struct defining all the states the elevator can be at. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{fsm_8h_aa6e4aa82eeeda3265a10f470d5741485}{run\+State\+Machine}} (\mbox{\hyperlink{structRequest}{Request}} $\ast$queue, int size, \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$state, int $\ast$current\+\_\+floor, bool $\ast$between\+\_\+floors, Direction $\ast$dir)
\begin{DoxyCompactList}\small\item\em A switch case that checks what {\ttfamily state} the elevator is at and calls the correct handler function. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{fsm_8h_a481612c5876a219177116d046b151b34}\label{fsm_8h_a481612c5876a219177116d046b151b34}} 
void {\bfseries init\+Handler} (\mbox{\hyperlink{structRequest}{Request}} $\ast$queue, int size, \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$state)
\item 
\mbox{\Hypertarget{fsm_8h_a7e9bb32fdb65de1fa0c00d4d1c68f092}\label{fsm_8h_a7e9bb32fdb65de1fa0c00d4d1c68f092}} 
void {\bfseries at\+Floor\+Handler} (int current\+\_\+floor, \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$state)
\item 
\mbox{\Hypertarget{fsm_8h_a18771b3c066157f6e98295f838c8c833}\label{fsm_8h_a18771b3c066157f6e98295f838c8c833}} 
void {\bfseries stop\+Handler} (\mbox{\hyperlink{structRequest}{Request}} $\ast$queue, int size, \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$state, bool $\ast$between\+\_\+floors)
\item 
\mbox{\Hypertarget{fsm_8h_a9a74c508412e10aef55f10891ed22656}\label{fsm_8h_a9a74c508412e10aef55f10891ed22656}} 
void {\bfseries door\+Handler} (\mbox{\hyperlink{structRequest}{Request}} $\ast$queue, int size, \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$state)
\item 
\mbox{\Hypertarget{fsm_8h_a91d6ccc80f5b77ce6a4e156e07f4dafd}\label{fsm_8h_a91d6ccc80f5b77ce6a4e156e07f4dafd}} 
void {\bfseries move\+Handler} (\mbox{\hyperlink{structRequest}{Request}} $\ast$queue, int size, \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$state, int $\ast$current\+\_\+floor, int floor, bool $\ast$between\+\_\+floors, Direction $\ast$dir)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The state machine is used for controlling the logic that operates the elevator. This library consists of all handler functions handles the logical control at each state. 



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}\label{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}} 
\index{fsm.h@{fsm.h}!State@{State}}
\index{State@{State}!fsm.h@{fsm.h}}
\doxysubsubsection{\texorpdfstring{State}{State}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}}}



A struct defining all the states the elevator can be at. 



Definition at line 19 of file fsm.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{fsm_8h_aa6e4aa82eeeda3265a10f470d5741485}\label{fsm_8h_aa6e4aa82eeeda3265a10f470d5741485}} 
\index{fsm.h@{fsm.h}!runStateMachine@{runStateMachine}}
\index{runStateMachine@{runStateMachine}!fsm.h@{fsm.h}}
\doxysubsubsection{\texorpdfstring{runStateMachine()}{runStateMachine()}}
{\footnotesize\ttfamily void run\+State\+Machine (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structRequest}{Request}} $\ast$}]{queue,  }\item[{int}]{size,  }\item[{\mbox{\hyperlink{fsm_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} $\ast$}]{state,  }\item[{int $\ast$}]{current\+\_\+floor,  }\item[{bool $\ast$}]{between\+\_\+floors,  }\item[{Direction $\ast$}]{dir }\end{DoxyParamCaption})}



A switch case that checks what {\ttfamily state} the elevator is at and calls the correct handler function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em queue} & A pointer to the queue to operate on. \\
\hline
\mbox{\texttt{ in}}  & {\em size} & The size of the queue. \\
\hline
\mbox{\texttt{ in,out}}  & {\em state} & A pointer to the current state. Can be changed by handler function. \\
\hline
\mbox{\texttt{ in,out}}  & {\em current\+\_\+floor} & A pointer to the current floor. \\
\hline
\mbox{\texttt{ in,out}}  & {\em between\+\_\+floors} & Used to check or set if the elevator is between floors. \\
\hline
\mbox{\texttt{ in,out}}  & {\em dir} & Used to check or set the current elevator direction. \\
\hline
\end{DoxyParams}


Definition at line 129 of file fsm.\+c.

